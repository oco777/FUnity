# Codex 用 C#/.meta 管理ルール（修正版）

本ドキュメントは、FUnity リポジトリで Codex を含む自動化エージェントが C# スクリプト（.cs）と Unity の .meta ファイルを取り扱う際の恒久ルールを定義します。特に GUID を AI 側で生成しないことを明確化します。

## 基本方針
1. .cs と .meta は常にペアで管理する。
2. .meta の中身（特に GUID）は Unity エディタに生成させる。Codex は GUID を作らない。
3. 既存の .meta を壊さない／上書きしない。
4. 不整合を見つけた場合は、Unity の正規挙動に合わせて再生成または削除を案内する。

## 運用ルール
- **新規 .cs ファイル追加時**: Codex は .cs のみ追加し、「対応する .meta は Unity エディタで自動生成してコミットしてください」と PR やコメントで明示する。`.meta` の YAML や GUID を自力で作成しない。
- **.cs ファイル削除時**: 対応する `.cs.meta` も削除対象に含めるよう指示する。実際の削除は人間または CI が担当してもよい。
- **.meta の編集禁止**: 既存 `.meta` の GUID や構造を書き換えない。問題がある場合は Unity に再生成させるよう案内する。
- **不整合の検出**: `.cs` だけ／`.meta` だけの状態を見つけたら、Unity エディタで正しいペアを再生成するか不要な方を削除するよう指示する。

## ドキュメント反映
本ルールは `AGENTS.md` や `CONTRIBUTING.md` などにも追記し、FUnity リポジトリ全体に恒久的な前提条件として適用する。
